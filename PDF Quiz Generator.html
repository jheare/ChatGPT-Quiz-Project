<!DOCTYPE html>
<html>
  <head>
    <title>Quiz Generator</title>
  </head>
  <body>
    <h1>Quiz Generator</h1>
    <p>Welcome to the quiz generator! Select a PDF file to generate quiz questions from it:</p>
    <input type="file" id="pdf-file" accept=".pdf">
    <button id="generate-quiz-button">Generate Quiz</button>
    <div id="quiz-container">
      <!-- This div will contain the quiz questions and answers -->
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.254/pdf.min.js"></script>
    <script>
      // Event listener for the "Generate Quiz" button
      document.getElementById("generate-quiz-button").addEventListener("click", () => {
        // Get the PDF file from the input element
        const pdfFile = document.getElementById("pdf-file").files[0];
        
        // Load the PDF file using pdf.js
        const pdf = PDFJS.getDocument(pdfFile);
        pdf.then((pdf) => {
          // Once the PDF is loaded, extract the text from it
          pdf.getPage(1).then((page) => {
            page.getTextContent().then((textContent) => {
              // Use the text from the PDF to generate quiz questions
              generateQuizQuestions(textContent.items.map((item) => item.str).join("\n"));
            });
          });
        });
      });
      
      // Function to generate quiz questions from the text
      function generateQuizQuestions(text) {
  // Split the text into lines
  const lines = text.split("\n");
  
  // Initialize an array to store the quiz questions
  const quizQuestions = [];
  
  // Iterate through the lines of text
  for (let i = 0; i < lines.length; i++) {
    // Check if the line is a question
    if (isQuestion(lines[i])) {
      // If the line is a question, extract the question and options
      const question = extractQuestion(lines[i]);
      const options = extractOptions(lines[i + 1]);
      
      // Add the question and options to the quizQuestions array
      quizQuestions.push({
        question: question,
        options: options
      });
    }
  }
          // Display the quiz questions on the website
  displayQuizQuestions(quizQuestions);
}

// Function to check if a line of text is a question
function isQuestion(line) {
  // Check if the line starts with "What" or "Which"
  if (line.startsWith("What") || line.startsWith("Which")) {
    return true;
  } else {
    return false;
  }
}

// Function to extract the question from a line of text
function extractQuestion(line) {
  // Split the line into words
  const words = line.split(" ");
  
  // The question is everything after the first word
  const question = words.slice(1).join(" ");
  
  return question;
}

// Function to extract the options from a line of text
function extractOptions(line) {
  // Split the line into words
  const words = line.split(" ");
  
  // The options are the first four words
  const options = words.slice(0, 4);
  
  return options;
}

// Function to display the quiz questions on the website
function displayQuizQuestions(quizQuestions) {
  // Clear the quiz container
  document.getElementById("quiz-container").innerHTML = "";
  
  // Iterate through the quiz questions
  quizQuestions.forEach((quizQuestion) => {
    // Create a div to hold the question
    const questionDiv = document.createElement("div");
    questionDiv.innerHTML = quizQuestion.question;
    document.getElementById("quiz-container").appendChild(questionDiv);
    
    // Create a div to hold the options
    const optionsDiv = document.createElement("div");
    document.getElementById("quiz-container").appendChild(optionsDiv);
    
    // Create radio buttons for each option
    quizQuestion.options.forEach((option) => {
      const optionLabel = document.createElement("label");
      optionLabel.innerHTML = option;
      
      const optionInput = document.createElement("input");
      optionInput.type = "radio";
      optionInput.name = "options";
      optionInput.value = option;
      
      optionsDiv.appendChild(optionInput);
      optionsDiv.appendChild(optionLabel);
    });
  });
}
    </script>
  </body>
</html>
